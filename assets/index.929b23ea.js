import{d as E,r as ee,o as te,a as L,c as oe,t as ne,b as f,e as d,w as p,S as re,C as se,f as ae,$ as ie,g as ce,H as le,h as ue,i as R,j as P,k,l as F,U as fe,m as de,Y as pe,q as me,n as he,p as m,s as ge,R as H,A as u,V as _e,u as Se,v as Ee,K as Le,x as Re,y as ve,z as v,B as Ce,D,_ as we,E as ye}from"./vendor.5af50741.js";import{a as Ae}from"./expansion-axios.5452c070.js";import"./expansion-moment.d5a89207.js";const Ie=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};Ie();const Oe="modulepreload",j={},be="./",l=function(t,n){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=`${be}${s}`,s in j)return;j[s]=!0;const o=s.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${r}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":Oe,o||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),o)return new Promise((c,i)=>{a.addEventListener("load",c),a.addEventListener("error",i)})})).then(()=>t())};var C=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};const Ne=E({name:"SuspenseWithError",setup(){const e=ee(null);return te(t=>(e.value="(\u2299o\u2299)\u2026\u51FA\u4E86\u70B9\u95EE\u9898\u3002",console.error("onErrorCaptured",t),!0)),{error:e}}});function Te(e,t,n,s,o,r){return e.error?L(e.$slots,"error",{key:0},()=>[oe(ne(e.error),1)]):(f(),d(re,{key:1},{default:p(()=>[L(e.$slots,"default")]),fallback:p(()=>[L(e.$slots,"fallback")]),_:3}))}var w=C(Ne,[["render",Te]]);const $e=E({name:"App",components:{ConfigProvider:se,SuspenseWithError:w},setup(){return ae(()=>{ie()}),ce(()=>{le()}),{zhCN:ue}}});function Pe(e,t,n,s,o,r){const a=R("router-view"),c=R("config-provider");return f(),d(c,{locale:e.zhCN},{default:p(()=>[P(a,null,{default:p(({Component:i})=>[(f(),d(k(i)))]),_:1})]),_:1},8,["locale"])}var ke=C($e,[["render",Pe]]);const g={ZH_CN:"zh_CN",EN_US:"en"},y={showPicker:!0,locale:g.ZH_CN,fallback:g.ZH_CN,availableLocales:[g.ZH_CN,g.EN_US]},U="LOCALE_LANG",V=new F("",sessionStorage),Fe=V.get(U)||y,He={localInfo:Fe},De={SetLocaleInfo(e,t){e.localInfo={...e.localInfo,...t},V.set(U,e.localInfo)},InitLocale(e){this.SetLocaleInfo(e,{...y,...e.localInfo})}},je={setLocaleInfo(e,t){e.commit("SetLocaleInfo",t)},initLocale(e){e.commit("InitLocale")}};var Ue={namespaced:!0,state:He,mutations:De,actions:je};const Ve={showHeader:!0,showFooter:!0,showRight:!1},We={SET_SHOWHEADER:(e,t)=>{e.showHeader=t},SET_SHOWFOOTER:(e,t)=>{e.showFooter=t},SET_SHOWRIGHT:(e,t)=>{e.showRight=t}},Be={showHeader(e,t){e.commit("SET_SHOWHEADER",t)},showFooter(e,t){e.commit("SET_SHOWFOOTER",t)},showRight(e,t){e.commit("SET_SHOWRIGHT",t)}};var xe={namespaced:!0,state:Ve,mutations:We,actions:Be},A;(function(e){e.SIDEBAR="sidebar",e.MIX_SIDEBAR="mix-sidebar",e.MIX="mix",e.TOP_MENU="top-menu"})(A||(A={}));var I;(function(e){e.NONE="NONE",e.FOOTER="FOOTER",e.HEADER="HEADER"})(I||(I={}));var O;(function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.VERTICAL_RIGHT="vertical-right",e.INLINE="inline"})(O||(O={}));var W;(function(e){e[e.NONE=0]="NONE",e[e.TOP=1]="TOP",e[e.LEFT=2]="LEFT"})(W||(W={}));var B;(function(e){e.CENTER="center",e.START="start",e.END="end"})(B||(B={}));var b;(function(e){e.HOVER="hover",e.CLICK="click"})(b||(b={}));var x;(function(e){e[e.Widget=0]="Widget",e[e.Route=1]="Route",e[e.URL=2]="URL",e[e.Action=3]="Action"})(x||(x={}));const qe={showSettingButton:!0,showDarkModeToggle:!0,themeColor:"#0960bd",grayMode:!1,colorWeak:!1,fullContent:!1,showLogo:!0,showFooter:!0,headerSetting:{bgColor:"#ffffff",fixed:!0,show:!0,useLockPage:!0,showFullScreen:!0,showDoc:!0,showNotice:!0,showSearch:!0},menuSetting:{bgColor:"#273352",fixed:!0,collapsed:!1,collapsedShowTitle:!1,canDrag:!0,hidden:!1,show:!0,minWidth:48,menuWidth:250,mode:O.INLINE,type:A.SIDEBAR,split:!1,topMenuAlign:"start",trigger:I.HEADER,accordion:!0,closeMixSidebarOnChange:!1,mixSideTrigger:b.CLICK,mixSideFixed:!1},multiTabsSetting:{cache:!1,show:!0,showQuick:!0,canDrag:!0,showRedo:!0,showFold:!0},transitionSetting:{enable:!0,openPageLoading:!0,openNProgress:!1},openKeepAlive:!0,lockTime:0,showBreadCrumb:!0,showBreadCrumbIcon:!1,useErrorHandle:!1,useOpenBackTop:!0,canEmbedIFramePage:!0,closeMessageOnSwitch:!0,removeAllHttpPending:!0},q="PROJ_SETTINGS",N=new F("",sessionStorage),K=N.get(q)||qe,Ke={projectConfig:K,get menuSetting(){return K.menuSetting}},z={setProjectConfig(e,t){e.projectConfig=fe(e.projectConfig||{},t),N.set(q,e.projectConfig)},setMenuSetting(e,t){z.setProjectConfig(e,{menuSetting:t})},async resetAllState(e){N.clear()}},ze={setProjectConfig(e,t){e.commit("setProjectConfig",t)},setMenuSetting(e,t){e.commit("setMenuSetting",t)},async resetAllState(e){e.commit("resetAllState")}};var Ge={namespaced:!0,state:Ke,mutations:z,actions:ze},G;(function(e){e.AppState="appState",e.LocaleState="localeState",e.LayoutState="layoutState"})(G||(G={}));const Ze={appState:Ge,localeState:Ue,layoutState:xe},_=de({modules:Ze,getters:{appState:e=>e.appState,layoutState:e=>e.layoutState,localeState:e=>e.localeState}}),Z=_.getters;async function Ye(e){const t=await pe(e);console.log(t,"responseValue");const n=t?.data;return n&&n.isSuccess?(me(n.resultValue),he(n.resultValue.doubleToken),!0):!1}m.configure({showSpinner:!1});const T=["login","icons","error","error-404"],Y="/login",J="/home";function Je(e){const t=u.Config.UI?.SiteTitle;return e?`${u.t(e)} - ${t}`:`${t}`}ge(({to:e,from:t,next:n,hasRoute:s})=>{_.dispatch("asyncRoute/generateRoutes").then(()=>{if(!T.includes(e.name)&&!s){const o=decodeURIComponent(t.query.redirect||"");e.path===o?n({...e,replace:!0}):n({...e,replace:!0})}}).catch(()=>n({path:J}))},1800,{leading:!0});function Xe(e){e.beforeEach((t,n,s)=>{m.start();const o=t.name,r=H();if(r)if(u.User||_e(r),o==="login")s({path:J}),m.done();else{const a=e.hasRoute(t.name);console.log(t.name,"to.name"),(T.includes(o)||a)&&s()}else if(T.includes(o))s();else{const a=t.query?.tk?.toString();if(a)Ye(a).then(c=>{if(c)H(),s();else{console.log("\u9A8C\u8BC1tk\u53C2\u6570\u5931\u8D25\uFF01");const i=u.Config.ServiceURL.UILoginURL;if(i){const h=document.URL;window.open(i+"?redirect="+h,"_self")}else s({path:Y,query:{redirect:t.fullPath},replace:!0});m.done()}});else{const c=u.Config.ServiceURL.UILoginURL;if(c){const i=document.URL;window.open(c+"?redirect="+i,"_self")}else s({path:Y,query:{redirect:t.fullPath},replace:!0});m.done()}}}),e.afterEach((t,n,s)=>{document.title=Je(t.meta.title),Se(s)&&console.log("failed navigation",s);const o=_.state.asyncRoute?.keepAliveComponents,r=t.matched.find(a=>a.name==t.name)?.components?.default.name;if(r&&!o?.includes(r)&&t.meta?.keepAlive)o.push(r);else if(!t.meta?.keepAlive||t.name=="Redirect"){const a=_.state.asyncRoute?.keepAliveComponents.findIndex(c=>c==r);a!=-1&&o?.splice(a,1)}m.done()}),e.onError(t=>{console.log(t,"\u8DEF\u7531\u9519\u8BEF")})}const Qe=[{path:"/login",name:"login",meta:{title:"\u7CFB\u7EDF\u767B\u5F55",hidden:!0,isSystem:!0},component:()=>l(()=>import("./index.bc260569.js"),["assets/index.bc260569.js","assets/vendor.5af50741.js","assets/vendor.55db3c46.css","assets/expansion-moment.d5a89207.js","assets/expansion-axios.5452c070.js","assets/logo.50226ed7.js"])},{path:"/userlogin",name:"userlogin",meta:{title:"\u7EDF\u4E00\u767B\u5F55",hidden:!0,isSystem:!0},component:()=>l(()=>import("./index.b6b96f86.js"),["assets/index.b6b96f86.js","assets/vendor.5af50741.js","assets/vendor.55db3c46.css","assets/expansion-moment.d5a89207.js","assets/expansion-axios.5452c070.js","assets/logo.50226ed7.js"])}],Me=E({name:"RouterTransition",components:{SuspenseWithError:w},props:{notNeedKey:{type:Boolean,default:!1},animate:{type:Boolean,default:!0}},setup(){return{keepAliveComponents:Ee(()=>Z.asyncRoute?.keepAliveComponents)}}});function et(e,t,n,s,o,r){const a=R("router-view"),c=w;return f(),d(c,null,{default:p(()=>[P(a,null,{default:p(({Component:i,route:h})=>[(f(),d(Le,{include:e.keepAliveComponents},[(f(),d(k(i)))],1032,["include"]))]),_:1})]),_:1})}var tt=C(Me,[["render",et]]);const X="error",ot={path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/error/404",meta:{title:"\u4E0D\u5B58\u5728",hidden:!0,isSystem:!0},component:()=>l(()=>import("./404.66ebf8b4.js"),["assets/404.66ebf8b4.js","assets/404.c2a48e99.css","assets/vendor.5af50741.js","assets/vendor.55db3c46.css","assets/expansion-moment.d5a89207.js","assets/expansion-axios.5452c070.js"])},nt={path:"/error",name:X,redirect:"/error/404",component:tt,meta:{title:"\u9519\u8BEF\u9875",hidden:!0,isSystem:!0},children:[{path:"404",name:`${X}-404`,meta:{title:"404",hidden:!0,isSystem:!0},component:()=>l(()=>import("./404.66ebf8b4.js"),["assets/404.66ebf8b4.js","assets/404.c2a48e99.css","assets/vendor.5af50741.js","assets/vendor.55db3c46.css","assets/expansion-moment.d5a89207.js","assets/expansion-axios.5452c070.js"])}]},rt={path:"/",name:"Layout",component:()=>l(()=>import("./index.13ff5df7.js"),["assets/index.13ff5df7.js","assets/index.88e0401d.css","assets/vendor.5af50741.js","assets/vendor.55db3c46.css","assets/expansion-moment.d5a89207.js","assets/expansion-axios.5452c070.js"]),meta:{title:"",hidden:!0,isSystem:!0},children:[{path:"/demo/:type",name:"demo",meta:{title:"routes.home",icon:"iconfont icon-Home-Filled",isSystem:!0},component:()=>l(()=>import("./demoListView.a6251bd4.js"),["assets/demoListView.a6251bd4.js","assets/demoListView.330cc893.css","assets/vendor.5af50741.js","assets/vendor.55db3c46.css","assets/expansion-moment.d5a89207.js","assets/expansion-axios.5452c070.js"])}]},st=[rt,...Qe,ot,nt],Q=Re({history:ve(""),routes:st});function at(e){e.use(Q),u.Config.UI?.IsNoLogin||Xe(Q)}function M(e,t){return!e||t.startsWith(e)?t:`${e}.${t}`}function it(e){const t={t:r=>M(e,r)};if(!S)return t;const{t:n,...s}=S.global;return{...s,t:(r,...a)=>r?!r.includes(".")&&!e?r:n(M(e,r),...a):""}}const ct=[];function lt(e){document.querySelector("html")?.setAttribute("lang",e)}function ut(e){e(ct)}function Et(e,t="lang"){const n={};return Object.keys(e).forEach(s=>{const o=e[s].default;let r=s.replace(`./${t}/`,"").replace(/^\.\//,"");const a=r.lastIndexOf(".");r=r.substring(0,a);const c=r.split("/"),i=c.shift(),h=c.join(".");i&&(h?(v(n,i,n[i]||{}),v(n[i],h,o)):v(n,i,o||{}))}),n}function ft(e){switch(e){case"./lang/en.ts":return l(()=>import("./en.cc5722dd.js"),["assets/en.cc5722dd.js","assets/vendor.5af50741.js","assets/vendor.55db3c46.css","assets/expansion-moment.d5a89207.js","assets/expansion-axios.5452c070.js"]);case"./lang/zh_CN.ts":return l(()=>import("./zh_CN.d8ce5acc.js"),["assets/zh_CN.d8ce5acc.js","assets/vendor.5af50741.js","assets/vendor.55db3c46.css","assets/expansion-moment.d5a89207.js","assets/expansion-axios.5452c070.js"]);default:return new Promise(function(t,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const{fallback:dt,availableLocales:pt}=y;let S;async function mt(){const t=Z.localeState.localInfo.locale,s=(await ft(`./lang/${t}.ts`)).default?.message??{};return lt(t),ut(o=>{o.push(t)}),{legacy:!1,locale:t,fallbackLocale:dt,messages:{[t]:s},availableLocales:pt,sync:!0,silentTranslationWarn:!0,missingWarn:!1,silentFallbackWarn:!0}}async function ht(e){const t=await mt();S=Ce(t),e.use(S);const{t:n}=it();u.t=n}D.config({top:"100px",duration:1,maxCount:3});we(D,Ae);const $=ye(ke);ht($).then(()=>{at($),$.mount("#app")});export{C as _,l as a,Et as g,Z as s};
