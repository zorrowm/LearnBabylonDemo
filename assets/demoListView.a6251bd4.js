import{_ as E,s as O,a as R}from"./index.929b23ea.js";import{A as g,d as x,r as k,f as K,a5 as L,P,b as c,L as f,a6 as $,a7 as M,j as _,w as i,c as I,t as C,M as p,a8 as D,a9 as N,aa as j,ab as H,ac as T,ad as U,G as V,ae as A,e as w,af as z,ag as F,ah as G,ai as q,aj as J,J as Q,v as X,g as Y,i as W,ak as Z,al as ee,am as ne}from"./vendor.5af50741.js";import"./expansion-axios.5452c070.js";import"./expansion-moment.d5a89207.js";const B={SatusMessage:"statusmessage",CesiumWidgetLoaded:"CesiumWidgetLoaded",WidgetClosed:"WidgetClosed",ScrollPosition:"ScrollPosition"};function te(e,s){g.EventBus.on(e,s)}function se(e,s){g.EventBus.emit(e,s)}const oe=x({name:"",props:{menus:{type:Array}},components:{},setup(e,{attrs:s,slots:y,emit:h}){const l=k([]);function m(t){switch(t.type){case"hprose":const n=`${g.Config.ServiceURL.HproseTestURL}?url=${t.path}`;window.open(n,"_blank");break;case"database":P.copyText(t.path),g.Message?.info("\u5DF2\u590D\u5236\uFF1A\u6570\u636E\u5E93\u94FE\u63A5\u8DEF\u5F84\uFF01");break;case"api":default:window.open(t.path,"_blank");break}}function r(t){let n=t.icon;if(n)n.length===0&&(n="/img/null.png");else return"visibility: hidden;";return`background-image:url(${n})`}function d(t){return t.icon?"":"visibility: visible;"}return K(()=>{L(()=>e.menus,()=>{e.menus&&(l.value.length=0,l.value.push(...e.menus))},{deep:!0})}),{defaultMenus:l,selectItem:m,getImagePath:r,infoShowStyle:d}}}),ae={class:"secondgroup"},ue={class:"imgcover"},ie={class:"infoContent"};function le(e,s,y,h,l,m){const r=N,d=j,t=H,n=T,o=U;return c(!0),f(M,null,$(e.defaultMenus,(a,v)=>(c(),f(M,{key:"index"},[_(r,{class:"maingroup",orientation:"left"},{default:i(()=>[I(C(a.name),1)]),_:2},1024),p("ul",null,[(c(!0),f(M,null,$(a.children,(u,S)=>(c(),f("li",{key:u.key},[p("p",ae,C(u.name+"("+u.children.length+")"),1),_(o,{id:u.key,grid:{gutter:5,xs:1,sm:2,md:3,lg:3,xl:4,xxl:4},"data-source":u.children,style:{margin:"10px 20px","border-bottom":"solid 1px rgba(74, 74, 74, 0.22)"}},{renderItem:i(({item:b})=>[_(n,{style:{"margin-left":"20px"},onClick:ye=>e.selectItem(b)},{default:i(()=>[_(t,{hoverable:"",bordered:!0},{cover:i(()=>[p("div",ue,[p("div",{class:"imgobj",style:D(e.getImagePath(b)),alt:""},null,4),p("div",{class:"info",style:D(e.infoShowStyle(b))},[p("span",ie,C(b.info??b.path),1)],4)])]),default:i(()=>[_(d,{title:b.name,description:""},null,8,["title"])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1032,["id","data-source"])]))),128))])],64))),128)}var re=E(oe,[["render",le],["__scopeId","data-v-314e3362"]]);const ce=x({props:{menus:{type:Array}},setup(e){const s=V({rootSubmenuKeys:new Array,openKeys:[0]}),y=k([]),h=t=>{const n=t.find(o=>s.openKeys.indexOf(o)===-1);s.rootSubmenuKeys.indexOf(n)===-1?s.openKeys=t:s.openKeys=n?[n]:[]},l=k([]),m=({key:t})=>{console.log(t,"\u70B9\u51FB\u83DC\u5355\u4E8B\u4EF6"),se(B.ScrollPosition,t)};K(()=>{L(()=>e.menus,()=>{e.menus&&(console.log(e.menus,"mainMenu  props.menus"),l.value.length=0,l.value.push(...e.menus),e.menus.forEach(n=>{s.rootSubmenuKeys.push(n.key)}))},{deep:!0})});function r(t){let n=0;return t.children?.forEach(o=>{o.children&&(n+=o.children.length)}),n}function d(t){return"iconfont "+t.icon}return{...A(s),onOpenChange:h,clickMenuItem:m,defaultMenus:l,selectedMenuKeys:y,getMenuSum:r,getIcon:d}}}),de={key:0,class:"anticon"},_e={class:"iconClass"};function pe(e,s,y,h,l,m){const r=G,d=q,t=J;return c(),w(t,{mode:"inline",onClick:e.clickMenuItem,selectedKeys:e.selectedMenuKeys,"onUpdate:selectedKeys":s[0]||(s[0]=n=>e.selectedMenuKeys=n),openKeys:e.openKeys,onOpenChange:e.onOpenChange,class:"menu"},{default:i(()=>[(c(!0),f(M,null,$(e.defaultMenus,(n,o)=>(c(),f(M,null,[n.children?(c(),w(d,{key:o},{title:i(()=>[n.icon?(c(),f("span",de,[p("i",{class:z(e.getIcon(n))},null,2)])):F("",!0),p("span",_e,C(n.name+"("+e.getMenuSum(n)+")"),1)]),default:i(()=>[(c(!0),f(M,null,$(n.children,(a,v)=>(c(),w(r,{key:a.key},{default:i(()=>[p("span",null,C(a.name+"("+a.children?.length+")"),1)]),_:2},1024))),128))]),_:2},1024)):F("",!0)],64))),256))]),_:1},8,["onClick","selectedKeys","openKeys","onOpenChange"])}var me=E(ce,[["render",pe],["__scopeId","data-v-5c302210"]]);const ge=x({name:"demoListView",props:{},components:{MainMenu:me,DemoNode:re},setup(e,{attrs:s,slots:y,emit:h}){const l=V({isRouterAlive:!0}),m=A(l),r=Q(),d=X(()=>O.appState.menuSetting.menuWidth+"px"),t=k([]);K(async()=>{te(B.ScrollPosition,u=>{document.getElementById(u)?.scrollIntoView({behavior:"smooth",block:"end",inline:"center"})});const a=r.params.type,v=g.Config.menus[a];if(v){const u=await R(()=>import(v.config),[]);console.log(u.default,"data2"),o(u.default)}}),g.LayoutManager?.changeWidgetVisible("bottomMenuWidget",!1),Y(()=>{g.LayoutManager?.changeWidgetVisible("bottomMenuWidget",!0)});const n=k({height:window.innerHeight-60+"px"});function o(a){t.value.length=0,t.value.push(...a),console.log(t.value,"menusRef.value")}return L(()=>r.params.type,async a=>{const v=a,u=g.Config.menus[v];if(u){const S=await R(()=>import(u.config),[]);console.log(S.default,"data2"),o(S.default)}}),{...m,asiderWidth:d,contentHeight:n,menusRef:t}}});function fe(e,s,y,h,l,m){const r=W("MainMenu"),d=Z,t=W("DemoNode"),n=ee,o=ne;return c(),w(o,{class:"layout"},{default:i(()=>[_(d,{trigger:null,collapsible:"",class:"layout-sider",ref:"sideRef",width:e.asiderWidth},{default:i(()=>[_(r,{menus:e.menusRef},null,8,["menus"])]),_:1},8,["width"]),_(o,{style:{width:"100%",padding:"0px"}},{default:i(()=>[_(n,{class:"layout-content",style:D(e.contentHeight)},{default:i(()=>[_(t,{menus:e.menusRef},null,8,["menus"])]),_:1},8,["style"])]),_:1})]),_:1})}var ke=E(ge,[["render",fe]]);export{ke as default};
